# Phase 1: CLI TUI MVP Implementation Plan

## Overview
This document outlines the actionable implementation plan for Phase 1 of the folder-mcp CLI TUI MVP, based on the initiation flow diagram and development requirements.

## TUI Flow Tree Visualization

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Launch Application                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Initialize TUI Framework                     â”‚
â”‚  â€¢ Full-screen terminal interface                               â”‚
â”‚  â€¢ Keyboard event handling                                      â”‚
â”‚  â€¢ Screen management                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Check Cached Config                         â”‚
â”‚  â€¢ Look for .folder-mcp configuration                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Cached Config?    â”‚
        â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     Yes â”€â”€â”€â”€â”€â”¤â”€â”€â”€â”€â”€ No
              â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Load from Cache   â”‚              â”‚   System Auto-Detection  â”‚
    â”‚  â€¢ Read .folder-mcpâ”‚              â”‚  â€¢ Detect available modelsâ”‚
    â”‚  â€¢ Validate config â”‚              â”‚  â€¢ Calculate defaults     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚                                   â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    User Configuration Choice                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚  TUI Dialog with Options:                                   â”‚â”‚
â”‚  â”‚  [ ] Configure what's best for my computer (Auto)          â”‚â”‚
â”‚  â”‚  [ ] Open configuration wizard (Manual)                    â”‚â”‚
â”‚  â”‚                                                             â”‚â”‚
â”‚  â”‚  Navigation: â†‘â†“ Arrow keys, Enter to select               â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ User Choice?      â”‚
        â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     Auto â”€â”€â”€â”€â”¤â”€â”€â”€â”€â”€ Manual
              â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   Skip Wizard      â”‚              â”‚  Configuration Wizard    â”‚
    â”‚   â€¢ Multi-language â”‚              â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
    â”‚     defaults       â”‚              â”‚  â”‚ Content Description â”‚ â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚  â”‚ â€¢ Tell me about     â”‚ â”‚
              â”‚                         â”‚  â”‚   folder content    â”‚ â”‚
              â”‚                         â”‚  â”‚ â€¢ Single/Multi lang â”‚ â”‚
              â”‚                         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
              â”‚                         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
              â”‚                         â”‚  â”‚ Model Selection     â”‚ â”‚
              â”‚                         â”‚  â”‚ â€¢ Multi-lang models â”‚ â”‚
              â”‚                         â”‚  â”‚ â€¢ Single-lang (big) â”‚ â”‚
              â”‚                         â”‚  â”‚ â€¢ Performance info  â”‚ â”‚
              â”‚                         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
              â”‚                         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
              â”‚                         â”‚  â”‚ Port Configuration  â”‚ â”‚
              â”‚                         â”‚  â”‚ â€¢ Default: 3000     â”‚ â”‚
              â”‚                         â”‚  â”‚ â€¢ Custom input      â”‚ â”‚
              â”‚                         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
              â”‚                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚                                   â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Parse CLI Parameters                         â”‚
â”‚  â€¢ Override config with command-line arguments                  â”‚
â”‚  â€¢ Validate parameter combinations                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 Runtime Configuration Check                     â”‚
â”‚  â€¢ Compare current config with cached version                   â”‚
â”‚  â€¢ Determine if embeddings need regeneration                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Config Changed?   â”‚
        â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     Yes â”€â”€â”€â”€â”€â”¤â”€â”€â”€â”€â”€ No
              â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Update Embeddings  â”‚              â”‚ Check Embedding Status   â”‚
    â”‚ Storage            â”‚              â”‚ â€¢ Verify completeness    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚                                   â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Progress Notification Area                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ Server Status: [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘] 80% Indexing files...          â”‚â”‚
â”‚  â”‚                                                             â”‚â”‚
â”‚  â”‚ Current: Processing document 45/67                         â”‚â”‚
â”‚  â”‚ Embeddings: [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ] Complete                          â”‚â”‚
â”‚  â”‚                                                             â”‚â”‚
â”‚  â”‚ Press 'h' for help, 'q' to quit                           â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      MCP Server Ready                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ ðŸŸ¢ folder-mcp Server Running                               â”‚â”‚
â”‚  â”‚                                                             â”‚â”‚
â”‚  â”‚ Port: 3000                                                  â”‚â”‚
â”‚  â”‚ Model: nomic-embed-text                                     â”‚â”‚
â”‚  â”‚ Documents: 67 indexed                                       â”‚â”‚
â”‚  â”‚                                                             â”‚â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚â”‚
â”‚  â”‚ â”‚ Command Input:                                          â”‚ â”‚â”‚
â”‚  â”‚ â”‚ > \help                                                 â”‚ â”‚â”‚
â”‚  â”‚ â”‚                                                         â”‚ â”‚â”‚
â”‚  â”‚ â”‚ Available Commands:                                     â”‚ â”‚â”‚
â”‚  â”‚ â”‚ \model - Select embedding model                         â”‚ â”‚â”‚
â”‚  â”‚ â”‚ \port - Change server port                              â”‚ â”‚â”‚
â”‚  â”‚ â”‚ \status - Show server status                            â”‚ â”‚â”‚
â”‚  â”‚ â”‚ \config - Show configuration                            â”‚ â”‚â”‚
â”‚  â”‚ â”‚ \connection - Get MCP connection JSON                   â”‚ â”‚â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Linear Implementation Plan (Following Flow Chart)

### Step 1: Launch Application
**Goal: Get the TUI framework running with initial setup**

**User Conversation:**
- User launches the application
- System initializes TUI framework and displays branding/splash screen
- Basic component architecture is established

**Step Tasks:**
- [ ] Create main TUI entry point (`src/interfaces/tui/TUIApplication.tsx`)
- [ ] Initialize Ink app with React components
- [ ] Set up basic component-based architecture with hooks
- [ ] Create initial launch screen component with branding
- [ ] **Design System Foundation:**
  - [ ] Create `src/interfaces/tui/design/colors.ts` with color palette
  - [ ] Create `src/interfaces/tui/design/typography.ts` with text styles
  - [ ] Create `src/interfaces/tui/design/animations.ts` with easing functions

### Step 2: Initialize TUI Framework
**Goal: Core TUI infrastructure with keyboard handling**

**User Conversation:**
- System sets up keyboard navigation and screen management
- User can now interact with the interface using keyboard
- Smooth transitions and animations are ready for use

**Step Tasks:**
- [ ] Create `src/interfaces/tui/hooks/useKeyboard.ts` for keyboard handling
- [ ] Implement screen routing system with React state management
- [ ] Create `src/interfaces/tui/hooks/useAnimation.ts` for smooth transitions
- [ ] **Advanced Keyboard Handling:**
  - [ ] Focus management with React refs and useEffect
  - [ ] Tab/shift-tab navigation with React focus trap
  - [ ] Arrow key navigation with smooth state transitions

### Step 3: Check Cached Config
**Goal: Configuration detection and loading**

**User Conversation:**
- System checks for existing configuration in .folder-mcp file
- User sees loading indicator while config is being validated
- If config exists, user sees "Loading previous configuration..." message
- If no config, user proceeds to configuration choice

**Step Tasks:**
- [ ] Implement .folder-mcp config file detection
- [ ] Create config validation logic
- [ ] Build config loading with error handling
- [ ] Add visual feedback for config status

### Step 4: User Configuration Choice
**Goal: Auto vs Manual configuration decision**

**User Conversation:**
- User is presented with two options:
  - "Configure what's best for my computer (Auto)" - with animated bullets
  - "Open configuration wizard (Manual)"
- User navigates with arrow keys, sees smooth focus transitions
- User presses Enter to make selection
- System provides immediate visual feedback and routes to chosen path

**Step Tasks:**
- [ ] Create `src/interfaces/tui/components/ConfigurationChoice.tsx`
- [ ] **Interactive Feedback:**
  - [ ] Use Ink's `<Box>` and `<Text>` with color state changes
  - [ ] Focus indicators with useState and conditional styling
  - [ ] Create `src/interfaces/tui/components/AnimatedBullets.tsx` (Claude Code style)
- [ ] Implement auto-configuration path with React state
- [ ] Route to configuration wizard using screen state management

### Step 5: Configuration Wizard
**Goal: Complete manual configuration flow**

**User Conversation:**
- User enters content description: "Tell me about the content in this folder"
- User selects single language or multi-language support
- System detects hardware capabilities and shows available models
- User browses model list with performance info and recommendations
- User selects embedding model based on their needs (larger models for single-language)
- User configures server port (default 3000) with validation
- User confirms final configuration

**Step Tasks:**
- [ ] **Content Description Input:**
  - [ ] Create `src/interfaces/tui/components/CommandInput.tsx` with Ink's `<TextInput>`
  - [ ] Use `<Box>` with borders and React state for validation
  - [ ] Language selection with `useState` and conditional rendering
- [ ] **System Detection & Model Selection:**
  - [ ] Create `src/interfaces/tui/services/SystemCapabilities.ts` for hardware detection
  - [ ] Create `src/interfaces/tui/services/HuggingFaceMetadata.ts` for model data
  - [ ] Create `src/interfaces/tui/services/OllamaIntegration.ts` for Ollama CLI
  - [ ] Create `src/interfaces/tui/components/ModelSelection.tsx` with scrollable list
  - [ ] **BitNet support for very weak machines**
  - [ ] Model selection with React state and conditional model filtering
  - [ ] Performance info display using Ink's layout components
- [ ] **Port Configuration:**
  - [ ] Port input with `<TextInput>` and validation hooks
  - [ ] Port conflict detection with async validation

### Step 6: Parse CLI Parameters
**Goal: Override configuration with command-line arguments**

**User Conversation:**
- System processes command-line arguments provided at launch
- User sees "Applying command-line overrides..." message
- Any conflicting parameters are resolved with CLI taking precedence
- User sees final configuration summary before proceeding
- System validates all parameter combinations

**Step Tasks:**
- [ ] Parse command-line arguments
- [ ] Override wizard/auto configuration
- [ ] Validate parameter combinations
- [ ] Display final configuration summary

### Step 7: Runtime Configuration Check
**Goal: Determine if embeddings need regeneration**

**User Conversation:**
- System compares current configuration with cached version
- User sees "Checking configuration changes..." spinner
- If config changed: "Configuration updated, regenerating embeddings..."
- If config unchanged: "Configuration unchanged, verifying embeddings..."
- User sees the decision and reasoning before proceeding

**Step Tasks:**
- [ ] Compare current config with cached version
- [ ] Detect configuration changes
- [ ] Determine embedding regeneration needs
- [ ] Route to appropriate embedding process

### Step 8: Embedding Management
**Goal: Update or verify embeddings with progress tracking**

**User Conversation:**
- If model needs download: "Downloading [model-name]..." with progress bar
- User sees GPU/CPU status: "Using GPU acceleration" or "Using CPU (slower)"
- During embedding generation: "Processing documents [32/156] - Batch 4/5"
- FAISS index building: "Building vector index..." with spinner
- User sees estimated time remaining and current operation
- Success: "Embeddings ready! Processed X documents"

**Step Tasks:**
- [ ] **Embedding Model Setup:**
  - [ ] Create `src/interfaces/tui/services/ModelDownloader.ts` with progress hooks
  - [ ] **Model download progress with React state and useEffect**
  - [ ] **GPU/CPU status using `src/interfaces/tui/components/StatusDisplay.tsx`**
- [ ] **Progress & Notification System:**
  - [ ] Create `src/interfaces/tui/hooks/useProgress.ts` for embedding progress
  - [ ] **FAISS vector index progress with React state updates**
  - [ ] Create `src/interfaces/tui/components/LoadingSpinner.tsx` with animations
  - [ ] Progress bars using Ink's layout and useState for smooth updates
- [ ] **Integration Points:**
  - [ ] Connect MCP server initialization with React context
  - [ ] Embedding system integration with async React patterns
  - [ ] File watching integration with useEffect cleanup

### Step 9: Progress Notification Area
**Goal: Real-time progress display with animations**

**User Conversation:**
- User sees comprehensive progress dashboard with multiple progress bars
- Real-time updates: "Server Status: [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘] 80% Indexing files..."
- Current operation: "Processing document 45/67"
- Server state transitions: "Starting server..." â†’ "Ready"
- User can press 'h' for help, 'q' to quit during this phase
- Smooth animations keep user engaged during long operations

**Step Tasks:**
- [ ] Real-time progress bars
- [ ] Server state notifications with smooth transitions
- [ ] **Animation & Transitions:**
  - [ ] Fade in/out transitions for content changes
  - [ ] Contextual help tooltips that appear/disappear gracefully
- [ ] Error handling and display
- [ ] Success confirmations

### Step 10: MCP Server Ready
**Goal: Final interface with command system**

**User Conversation:**
- User sees: "ðŸŸ¢ folder-mcp Server Running" with server details
- Display shows: "Port: 3000, Model: nomic-embed-text, Documents: 67 indexed"
- User can type commands in input box: "> \help"
- Available slash commands displayed with descriptions
- User can invoke \model, \port, \status, \config, \connection, \help
- Interactive help system guides user through available commands
- User can now use the fully functional MCP server interface

**Step Tasks:**
- [ ] Create `src/interfaces/tui/screens/MainScreen.tsx` with server ready state
- [ ] **Command Input System:**
  - [ ] Enhance `CommandInput.tsx` with focus animations using React state
  - [ ] Create `src/interfaces/tui/navigation/SlashCommands.ts` parser
  - [ ] Build autocomplete with React state and filtered suggestions
- [ ] **Slash Commands Implementation:**
  - [ ] `\model` - Modal dialog using conditional rendering
  - [ ] `\port` - Port config modal with `<TextInput>`
  - [ ] `\status` - Status overlay using React state
  - [ ] `\config` - Config viewer with scrollable `<Box>`
  - [ ] `\connection` - JSON display with copy functionality
  - [ ] `\help` - Help modal using conditional rendering
- [ ] **Advanced Help System:**
  - [ ] Create `src/interfaces/tui/components/HelpSystem.tsx`
  - [ ] Connection JSON generation with React state
  - [ ] Keyboard shortcuts overlay with animations
- [ ] **Final Polish:**
  - [ ] Optimize React renders with useMemo and useCallback
  - [ ] Responsive layout using Ink's flexbox and terminal size hooks
  - [ ] Performance optimization with React.memo for heavy components

## Technical Architecture

### TUI Components Structure (Ink + React)
```
src/interfaces/tui/
â”œâ”€â”€ components/                    # **React components for Ink**
â”‚   â”œâ”€â”€ ConfigurationWizard.tsx    # **React component with hooks**
â”‚   â”œâ”€â”€ ProgressNotification.tsx   # **Animated progress bars**
â”‚   â”œâ”€â”€ CommandInput.tsx           # **Input with focus animations**
â”‚   â”œâ”€â”€ StatusDisplay.tsx          # **Real-time status updates**
â”‚   â”œâ”€â”€ ModelSelection.tsx         # **NEW: Model browsing with metadata**
â”‚   â”œâ”€â”€ SystemDetection.tsx        # **NEW: CPU/GPU/RAM detection**
â”‚   â”œâ”€â”€ AnimatedBullets.tsx        # **NEW: Claude Code-style bullets**
â”‚   â”œâ”€â”€ LoadingSpinner.tsx         # **NEW: Smooth loading animations**
â”‚   â””â”€â”€ HelpSystem.tsx
â”œâ”€â”€ screens/                       # **Full-screen React components**
â”‚   â”œâ”€â”€ WelcomeScreen.tsx
â”‚   â”œâ”€â”€ ConfigScreen.tsx
â”‚   â”œâ”€â”€ MainScreen.tsx
â”‚   â””â”€â”€ ErrorScreen.tsx
â”œâ”€â”€ hooks/                         # **NEW: Custom React hooks**
â”‚   â”œâ”€â”€ useKeyboard.ts             # **Advanced keyboard handling**
â”‚   â”œâ”€â”€ useAnimation.ts            # **Animation utilities**
â”‚   â”œâ”€â”€ useTheme.ts                # **Color scheme management**
â”‚   â””â”€â”€ useProgress.ts             # **Progress tracking**
â”œâ”€â”€ design/                        # **NEW: Design system**
â”‚   â”œâ”€â”€ colors.ts                  # **Color palette definition**
â”‚   â”œâ”€â”€ typography.ts              # **Text styles and spacing**
â”‚   â”œâ”€â”€ animations.ts              # **Easing functions and timing**
â”‚   â””â”€â”€ theme.ts                   # **Overall design tokens**
â”œâ”€â”€ navigation/
â”‚   â”œâ”€â”€ KeyboardHandler.ts
â”‚   â”œâ”€â”€ SlashCommands.ts
â”‚   â””â”€â”€ NavigationManager.ts
â”œâ”€â”€ services/                      # **Backend integration services**
â”‚   â”œâ”€â”€ HuggingFaceMetadata.ts     # **Model metadata from HF Hub**
â”‚   â”œâ”€â”€ OllamaIntegration.ts       # **Ollama CLI management**
â”‚   â”œâ”€â”€ SystemCapabilities.ts     # **Hardware detection**
â”‚   â””â”€â”€ ModelDownloader.ts         # **Download progress tracking**
â””â”€â”€ TUIApplication.tsx             # **Main Ink app component**
```

### State Management
- Application state using reactive patterns
- Configuration state synchronization
- Progress tracking and updates
- Command history and context

### Error Handling
- Graceful degradation for missing features
- User-friendly error messages
- Recovery suggestions
- Fallback to CLI mode if TUI fails

## Testing Strategy
- Unit tests for each TUI component
- Integration tests for user flows
- Manual testing for keyboard navigation
- Accessibility testing for screen readers

## TUI Library Recommendation

**Recommended: Ink + React**

**Why Ink?**
- React-based components for familiar development patterns
- Excellent animation support through hooks and state management
- Built-in keyboard navigation and focus management
- Active community and great documentation
- Perfect for achieving Claude Code-level polish

**Alternative: Blessed** (if you prefer lower-level control)
- More manual but gives fine-grained control over animations
- Better performance for very complex UIs
- Steeper learning curve

**Installation:**
```bash
npm install ink react
npm install --save-dev @types/react
```

**âœ… SELECTED: Ink + React** - Chosen for Claude Code-level polish and animation capabilities

## Success Criteria
- âœ… Full-screen TUI launches successfully **with smooth animations**
- âœ… Configuration wizard guides user through setup **with Claude Code-level polish**
- âœ… **System auto-detection works on target platforms (CPU/GPU/RAM)**
- âœ… **Model selection shows HuggingFace metadata and recommendations**
- âœ… **Ollama integration for model management**
- âœ… **BitNet support for weak machines**
- âœ… Slash commands provide full CLI functionality **with visual feedback**
- âœ… Progress bars show real-time status **with smooth animations including model downloads and embedding generation**
- âœ… MCP server integrates seamlessly
- âœ… Keyboard navigation is intuitive and complete **with focus animations**
- âœ… **UI feels as polished and responsive as Claude Code interface**